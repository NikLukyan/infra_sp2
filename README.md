## Api_YaMDb
Проект YaMDb собирает отзывы пользователей на произведения.
Сами произведения в YaMDb не хранятся, здесь нельзя посмотреть фильм или послушать музыку.
### Благодаря этому проекту пользователи смогут:
 - Зарегистрироваться
 - Оставить отзыв и оценку на произведение
 - Оставить комментарий к отзыву 
 - многое многое другое

Проект упакован в Docker контейнеры.

Образ на DockerHub: niklukyan/api_yamdb:v1.1
### Шаблон заполнения .env файла
DB_ENGINE=<тип БД>

DB_NAME=<имя базы данных>

POSTGRES_USER=<логин для подключения к базе данных>

POSTGRES_PASSWORD=<пароль для подключения к БД>

DB_HOST=<название сервиса (контейнера)>

DB_PORT=<порт для подключения к БД>

SECRET_KEY=<секретный ключ>

### Запуск приложения в контейнерах
Клонировать репозиторий и перейти в папку infra в командной строке:
```
git clone https://github.com/niklukyan/infra_sp2.git
```
Запустить сборку контейнеров docker-compose:
```
docker-compose up -d
```
Провести миграции:
```
docker-compose exec web python manage.py migrate
```

Создать суперпользователя:
```
docker-compose exec web python manage.py createsuperuser
```
Собрать статику:
```
docker-compose exec web python manage.py collectstatic --no-input
```
Заполнение базы данными
```
docker-compose exec web python manage.py loaddata fixtures.json 
```
## Документация
- Когда вы запустите проект, по нижеуказанному адресу будет 
доступна полная документация для API YaMDb в формате Swager 
```
/api/schema/swagger-ui/ 
```
и Redoc 
```
/api/schema/redoc/
```

## Примеры 
### Самостоятельная регистрация новых пользователей
- Пользователь отправляет POST-запрос с параметрами email и username на эндпоинт 
```
/api/v1/auth/signup/
``` 
- Сервис YaMDB отправляет письмо с кодом подтверждения (confirmation_code) на указанный адрес email.
- Пользователь отправляет POST-запрос с параметрами username и confirmation_code на эндпоинт 
```
/api/v1/auth/token/
```
- В ответе на запрос ему приходит token (JWT-токен).

- В результате пользователь получает токен и может работать с API проекта, отправляя этот токен с каждым запросом. 
После регистрации и получения токена пользователь может отправить PATCH-запрос на эндпоинт
```
/api/v1/users/me/
```
и заполнить поля в своём профайле (описание полей — в документации).

## Авторы
 
```
Никита Лукьянчук (8-918-261-01-04 nikluk@mail.ru), Елена Тимофеева, Дмитрий Бессмертный
``` 